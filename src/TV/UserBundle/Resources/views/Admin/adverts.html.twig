{# src/TV/User/Resources/views/Admin/adverts.html.twig #}

{% extends "TVFindyourbandBundle::layout.html.twig" %}

{% block title %}
    ADMIN - Annonces
{% endblock %}

{% block findyourband_body %}
    <div class="wrapper">
        <div class="container admin">
            {% include("TVUserBundle:Admin:header.html.twig") %}
            <h3>Annonces</h3>
            <table>
                <tr>
                    <th>Titre</th>
                    <th>Description</th>
                    <th>Auteur</th>
                    <th>Actions</th>
                </tr>

                {% for advert in listAdverts %}
                    <tr>
                        <td>{{ advert.title }}</td>
                        <td>{{ advert.content|length > 200 ? advert.content|slice(0, 200) ~ '...' : advert.content  }}</td>
                        <td>{{ advert.author }}</td>
                        <td class="actions">
                            <a class="btn btn-amd modify first" href="{{ path('tv_findyourband_adverts_view', {'id': advert.id}) }}">Voir</a>
                            <a class="btn btn-amd delete" href="{{ path('tv_findyourband_adverts_delete', {'id': advert.id}) }}">Supprimer</a>
                        </td>
                        
                    </tr>
                {% endfor %}
             </table>
             
             <div class="pagination-container">
                <div class="fixer-container">
                    <ul class="pagination">
                        {% for p in range(1, nbPages) %}
                            <li{% if p == page %} class="active"{% endif %}>
                                <a href="{{ path('tv_admin_adverts', {'page': p}) }}">{{ p }}</a>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
                    
             <div class="clearfix"></div>
        
        </div>
    </div>
{% endblock %}
